<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Your Cart â€” {{ shop.name }}</title>

  <style>
    body {
      font-family: system-ui, sans-serif;
      padding: 24px;
      background: #f7f8fa;
    }

    .cart-container {
      max-width: 950px;
      margin: 0 auto;
      background: #fff;
      padding: 24px;
      border-radius: 12px;
    }

    h1 {
      margin-bottom: 20px;
      font-size: 28px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    th {
      text-align: left;
      padding-bottom: 8px;
      border-bottom: 1px solid #ddd;
    }

    td {
      padding: 14px 0;
      border-bottom: 1px solid #eee;
      vertical-align: middle;
    }

    .cart-item {
      display: flex;
      align-items: center;
      gap: 18px;
    }

    .cart-item img {
      width: 80px;
      height: 80px;
      border-radius: 8px;
      object-fit: cover;
    }

    .item-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .item-variant {
      font-size: 13px;
      color: #666;
    }

    input[type="number"] {
      width: 70px;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    .remove-btn {
      color: #d00;
      font-size: 13px;
      text-decoration: underline;
      background: none;
      border: none;
      cursor: pointer;
      padding: 0;
    }

    .cart-summary {
      text-align: right;
      margin-top: 20px;
      font-size: 18px;
    }

    .checkout-btn {
      background: #111;
      color: #fff;
      border: none;
      padding: 14px 22px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      display: inline-block;
      margin-top: 12px;
    }

    .empty-cart {
      text-align: center;
      font-size: 18px;
      padding: 40px 0;
    }

    @media (max-width: 600px) {
      .cart-item {
        flex-direction: column;
        align-items: start;
      }

      input[type="number"] {
        width: 100%;
      }
    }
  </style>
</head>
<body>

<div class="cart-container">

  <h1>Your Shopping Cart</h1>

  {% if cart.item_count > 0 %}

    {% form 'cart', cart %}

      <table>
        <thead>
          <tr>
            <th>Product</th>
            <th>Quantity</th>
            <th style="text-align:right">Total</th>
          </tr>
        </thead>

        <tbody>
          {% for item in cart.items %}
          <tr>
            <td>
              <div class="cart-item">
                <a href="{{ item.url }}">
                  {% if item.image %}
                    <img src="{{ item.image | img_url: '200x' }}" alt="{{ item.image.alt }}">
                  {% else %}
                    <img src="https://via.placeholder.com/200x200?text=No+Image" alt="No image">
                  {% endif %}
                </a>

                <div>
                  <div class="item-title">
                    <a href="{{ item.url }}">{{ item.product.title }}</a>
                  </div>

                  {% if item.variant.title != 'Default Title' %}
                    <div class="item-variant">
                      {{ item.variant.title }}
                    </div>
                  {% endif %}

                  <button
                    class="remove-btn"
                    name="updates[{{ item.key }}]"
                    value="0"
                  >
                    Remove
                  </button>
                </div>
              </div>
            </td>

            <td>
              <input
                type="number"
                name="updates[{{ item.key }}]"
                value="{{ item.quantity }}"
                min="0"
              >
            </td>

            <td style="text-align:right;">
              {{ item.final_line_price | money }}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      <div class="cart-summary">
        <strong>Subtotal: {{ cart.total_price | money }}</strong>
        <br>
        <em>Taxes and shipping calculated at checkout.</em>
      </div>

      <button type="submit" class="checkout-btn">
        Update Cart
      </button>

      <a href="/checkout" class="checkout-btn" style="margin-left:10px; background:#2c6ecb;">
        Checkout
      </a>

    {% endform %}

  {% else %}

    <div class="empty-cart">
      Your cart is empty.<br><br>
      <a href="/" class="checkout-btn">Continue Shopping</a>
    </div>

  {% endif %}

</div>

</body>
</html>
